/*! sPlaceholder - v1.2.0 - 2014-07-05
* https://github.com/BiosSun/sPlaceholder
* Copyright (c) 2014 Bios Sun; Licensed MIT */
!function(a,b){"object"==typeof module&&"object"===module.exports?module.exports=b():a.sPlaceholder=b()}("undefined"!=typeof window?window:this,function(){var a=function(){var a={}.toString,b=[].slice,c=/\s+/g,d=document.createElement("a"),e={extend:function(){var a,b,c,d=arguments[0],f=arguments.length,g=1;for(1===f&&(d=e,g=0);f>g;g++)if(a=arguments[g],null!=a)for(b in a)c=a[b],void 0!==c&&(d[b]=c);return d},makeArray:function(a){var c,d,e;try{c=b.call(a,0)}catch(f){for(c=[],d=0,e=a.length;e>d;d++)c.push(a[d]);return c}return c}};return e.extend({isArray:function(b){return"[object Array]"===a.call(b)},isFunction:function(b){return"[Object Function]"===a.call(b)},isString:function(a){return"string"==typeof a}}),e.extend({css:window.getComputedStyle?function(a,b){return window.getComputedStyle(a,null)[b]}:function(a,b){return a.currentStyle[b]}}),e.extend({isFocus:function(a){return a===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},isHidden:function(a){return"none"===e.css(a,"display")}}),e.extend({show:function(a){a.style.display=""},hide:function(a){a.style.display="none"}}),e.extend({hasClass:function(a,b){return(" "+a.className.replace(c," ")+" ").indexOf(" "+b+" ")>-1},addClass:function(a,b){e.hasClass(a,b)||(a.className+=" "+b)},removeClass:function(a,b){var d=" "+a.className.replace(c," ")+" ",e=d.split(" "+b+" ").join(" ");d!==e&&(a.className=e)}}),e.extend({$:function(a){return document.getElementById(a)},$c:function(a,b){var c,d,f,g=[];for(b=b||document,f=b.all?b.all:b.getElementsByTagName("*"),c=0,d=f.length;d>c;c++)e.hasClass(f[c],a)&&g.push(f[c]);return g},$t:function(a,b){var c,d,f=[];for(b=b||document,e.isString(a)&&(a=[a]),c=0,d=a.length;d>c;c++)f=f.concat(e.makeArray(b.getElementsByTagName(a[c])));return f},closest:function(a,b){return null==a||a===document?void 0:b(a)===!0?a:e.closest(a.parentNode,b)},siblings:function(a,b){var c,d,e,f=a.parentNode.childNodes,g=[];for(d=0,e=f.length;e>d;d++)c=f[d],1===c.nodeType&&b(c)===!0&&g.push(c);return g}}),e.extend({create:function(a){var b=document.createElement("div");return b.innerHTML=a,b.childNodes[0]}}),e.extend(d.addEventListener?{on:function(a,b,c){a.addEventListener(b,c,!1)},off:function(a,b,c){a.removeEventListener(b,c,!1)}}:{on:function(a,b,c){a["e"+b+c]=c,a[b+c]=function(){var d=window.event;d.target=d.srcElement,a["e"+b+c](d)},a.attachEvent("on"+b,a[b+c])},off:function(a,b,c){a.detachEvent("on"+b,a[b+c]),a[b+c]=null,a["e"+b+c]=null}}),e.extend({isReady:!1,readyList:[],readyTimer:null,ready:function(a){return e.checkReady?a():(e.readyTimer||(e.on(window,"load",e.checkReady),e.readyTimer=setInterval(e.checkReady,13)),void e.readyList.push(a))},checkReady:function(){if(e.isReady)return!0;if(document&&document.getElementsByTagName&&document.getElementById&&document.body){clearInterval(e.readyTimer),e.readyTimer=null;for(var a=0;a<e.readyList.length;a++)e.readyList[a]();return e.readyList=[],e.isReady=!0,!0}return!1}}),e}(),b="placeholder-box",c="placeholder-text",d=c+"-focus",e="placeholder"in document.createElement("input"),f={focusHandler:function(b){var c=f.getControl(b.target);c[1]&&(f.bind(c),a.addClass(c[1],d))},blurHandler:function(b){var c=f.getControl(b.target);f.changePlaceholderState(c[0],c[1]),f.unbind(c),a.removeClass(c[1],d)},modifyHandler:function(a){var b=f.getControl(a.target);f.changePlaceholderState(b[0],b[1])},bind:function(b){a.on(b[0],"input",f.modifyHandler),a.on(b[0],"propertychange",f.modifyHandler),a.on(b[0],"blur",f.blurHandler)},unbind:function(b){a.off(b[0],"input",f.modifyHandler),a.off(b[0],"propertychange",f.modifyHandler),a.off(b[0],"blur",f.blurHandler)},init:function(b){b=b||document.body;var c,d,e,g,h=f.isTextbox(b)?[b]:a.$t(["input","textarea"],b);for(e=0,g=h.length;g>e;e++)c=h[e],d=f.getControl(c),null==d[1]&&f.createPlaceholder(d),f.changePlaceholderState(d[0],d[1])},createPlaceholder:function(d){var f=d[0],g=f.getAttribute("placeholder"),h=f.getAttribute("splaceholder");if(g&&(!e||null!=h)){var i=a.create('<div class="'+b+'"></div>'),j=a.create('<label class="'+c+'">'+g+"</label>");f.parentNode.insertBefore(i,f),i.appendChild(j),i.appendChild(f),f.setAttribute("placeholder",""),d[1]=j,d[2]=i}},isTextbox:function(a){var b=a.nodeName.toLowerCase();return"input"===b||"textarea"===b},isPlaceholder:function(b){return a.hasClass(b,c)},changePlaceholderState:function(b,c){b&&c&&(b.value?a.hide(c):a.show(c))},getPlaceholderBox:function(c){var d=a.closest(c,function(c){return a.hasClass(c,b)});return d},getControl:function(b){var d,e,g;return f.isTextbox(b)?(d=b,g=f.getPlaceholderBox(d),e=g?a.$c(c,g)[0]:a.siblings(d,function(a){return f.isPlaceholder(a)})[0]):f.isPlaceholder(b)&&(e=b,g=f.getPlaceholderBox(e),d=g?a.$t(["input","textarea"],g)[0]:a.siblings(e,function(a){return f.isTextbox(a)})[0]),[d,e,g]}};return a.ready(function(){a.on(document,"click",function(b){var c,d,e=b.target;f.isPlaceholder(e)&&(c=f.getControl(e),d=c[0],!d||a.isHidden(d)||a.isFocus(d)||d.focus())}),document.addEventListener?document.addEventListener("focus",f.focusHandler,!0):a.on(document,"focusin",f.focusHandler),setTimeout(function(){f.init(),f.isInit=!0},50)}),f});