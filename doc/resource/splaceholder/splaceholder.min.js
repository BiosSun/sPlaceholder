/*! sPlaceholder - v1.2.0 - 2014-07-17
 *  https://github.com/BiosSun/sPlaceholder
 *  Copyright (c) 2014 Bios Sun; Licensed MIT */
!function(a,b){var c=b(window,document,void 0);"object"==typeof module&&"object"===module.exports?module.exports=c:a.sPlaceholder=c}("undefined"!=typeof window?window:this,function(a,b,c){var d=function(){var d={}.toString,e=[].slice,f=/\s+/g,g=b.createElement("a"),h={makeArray:function(a){var b,c,d;try{b=e.call(a,0)}catch(f){for(b=[],c=0,d=a.length;d>c;c++)b.push(a[c]);return b}return b},isArray:function(a){return"[object Array]"===d.call(a)},isFunction:function(a){return"[Object Function]"===d.call(a)},isString:function(a){return"string"==typeof a},css:a.getComputedStyle?function(b,c){return a.getComputedStyle(b,null)[c]}:function(a,b){return a.currentStyle[b]},isFocus:function(a){return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},isHidden:function(a){return"none"===h.css(a,"display")},show:function(a){a.style.display=""},hide:function(a){a.style.display="none"},hasClass:function(a,b){return(" "+a.className.replace(f," ")+" ").indexOf(" "+b+" ")>-1},addClass:function(a,b){h.hasClass(a,b)||(a.className+=" "+b)},removeClass:function(a,b){var c=" "+a.className.replace(f," ")+" ",d=c.split(" "+b+" ").join(" ");c!==d&&(a.className=d)},$:function(a){return b.getElementById(a)},$c:function(a,c){var d,e,f,g=[];for(c=c||b,f=c.all?c.all:c.getElementsByTagName("*"),d=0,e=f.length;e>d;d++)h.hasClass(f[d],a)&&g.push(f[d]);return g},$t:function(a,c){var d,e,f=[];for(c=c||b,h.isString(a)&&(a=[a]),d=0,e=a.length;e>d;d++)f=f.concat(h.makeArray(c.getElementsByTagName(a[d])));return f},closest:function(a,d){return null==a||a===b?c:d(a)===!0?a:h.closest(a.parentNode,d)},siblings:function(a,b){var c,d,e,f=a.parentNode.childNodes,g=[];for(d=0,e=f.length;e>d;d++)c=f[d],1===c.nodeType&&b(c)===!0&&g.push(c);return g},create:function(a){var c=b.createElement("div");return c.innerHTML=a,c.childNodes[0]},on:g.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:function(b,c,d){b["e"+c+d]=d,b[c+d]=function(){var e=a.event;e.target=e.srcElement,b["e"+c+d](e)},b.attachEvent("on"+c,b[c+d])},off:g.addEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,a[b+c]),a[b+c]=null,a["e"+b+c]=null},isReady:!1,readyList:[],readyTimer:null,ready:function(b){return h.checkReady?b():(h.readyTimer||(h.on(a,"load",h.checkReady),h.readyTimer=setInterval(h.checkReady,13)),h.readyList.push(b),c)},checkReady:function(){if(h.isReady)return!0;if(b&&b.getElementsByTagName&&b.getElementById&&b.body){clearInterval(h.readyTimer),h.readyTimer=null;for(var a=0;a<h.readyList.length;a++)h.readyList[a]();return h.readyList=[],h.isReady=!0,!0}return!1}};return h}(),e="placeholder-box",f="placeholder-text",g=f+"-focus",h="placeholder"in b.createElement("input"),i={focusHandler:function(a){var b=i.getControl(a.target);b[1]&&(i.bind(b),d.addClass(b[1],g))},blurHandler:function(a){var b=i.getControl(a.target);i.changePlaceholderState(b[0],b[1]),i.unbind(b),d.removeClass(b[1],g)},modifyHandler:function(a){var b=i.getControl(a.target);i.changePlaceholderState(b[0],b[1])},bind:function(a){d.on(a[0],"input",i.modifyHandler),d.on(a[0],"propertychange",i.modifyHandler),d.on(a[0],"blur",i.blurHandler)},unbind:function(a){d.off(a[0],"input",i.modifyHandler),d.off(a[0],"propertychange",i.modifyHandler),d.off(a[0],"blur",i.blurHandler)},init:function(a){a=a||b.body;var c,e,f,g,h=i.isTextbox(a)?[a]:d.$t(["input","textarea"],a);for(f=0,g=h.length;g>f;f++)c=h[f],e=i.getControl(c),null==e[1]&&i.createPlaceholder(e),i.changePlaceholderState(e[0],e[1])},createPlaceholder:function(a){var b=a[0],c=b.getAttribute("placeholder"),g=b.getAttribute("splaceholder");if(c&&(!h||null!=g)){var i=d.create('<div class="'+e+'"></div>'),j=d.create('<label class="'+f+'">'+c+"</label>");b.parentNode.insertBefore(i,b),i.appendChild(j),i.appendChild(b),b.setAttribute("placeholder",""),a[1]=j,a[2]=i}},isTextbox:function(a){var b=a.nodeName.toLowerCase();return"input"===b||"textarea"===b},isPlaceholder:function(a){return d.hasClass(a,f)},changePlaceholderState:function(a,b){a&&b&&(a.value?d.hide(b):d.show(b))},getPlaceholderBox:function(a){var b=d.closest(a,function(a){return d.hasClass(a,e)});return b},getControl:function(a){var b,c,e;return i.isTextbox(a)?(b=a,e=i.getPlaceholderBox(b),c=e?d.$c(f,e)[0]:d.siblings(b,function(a){return i.isPlaceholder(a)})[0]):i.isPlaceholder(a)&&(c=a,e=i.getPlaceholderBox(c),b=e?d.$t(["input","textarea"],e)[0]:d.siblings(c,function(a){return i.isTextbox(a)})[0]),[b,c,e]}};return d.ready(function(){d.on(b,"click",function(a){var b,c,e=a.target;i.isPlaceholder(e)&&(b=i.getControl(e),c=b[0],!c||d.isHidden(c)||d.isFocus(c)||c.focus())}),b.addEventListener?b.addEventListener("focus",i.focusHandler,!0):d.on(b,"focusin",i.focusHandler),setTimeout(function(){i.init(),i.isInit=!0},50)}),i});